<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é”»ç‚¼è„–å­ - è¯—æ­Œé˜…è¯»</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'åæ–‡æ¥·ä½“', 'KaiTi', serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }
        
        .poem-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 60px 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 90vw;
            box-sizing: border-box;
        }
        
        .poem-line {
            font-size: clamp(20px, 5vw, 36px);
            font-weight: bold;
            color: #2c3e50;
            width: clamp(60px, 12vw, 100px);
            min-height: clamp(80px, 20vw, 150px);
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 4px;
            margin: 0;
            writing-mode: vertical-lr;
            text-orientation: mixed;
            padding: 10px 5px;
            box-sizing: border-box;
        }
        
        .poem-line:hover {
            transform: scale(1.05);
        }
        
        .line-down {
            transform: rotate(90deg);
        }
        
        .line-up {
            transform: rotate(-90deg);
        }
        
        .title {
            text-align: center;
            margin-bottom: 40px;
            font-size: clamp(24px, 6vw, 42px);
            color: #2c3e50;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .instruction {
            position: relative;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: clamp(12px, 3vw, 14px);
            color: #7f8c8d;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            text-align: center;
        }
        
        #next-poem {
            margin-top: 20px;
            padding: 12px 24px;
            font-size: clamp(14px, 4vw, 18px);
            background: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: inherit;
            touch-action: manipulation;
        }
        
        .poem-content {
            display: flex;
            gap: clamp(5px, 2vw, 10px);
            align-items: center;
            flex-wrap: nowrap;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="instruction">
        ğŸ’ª é”»ç‚¼è„–å­ï¼šå·¦å³è½¬åŠ¨å¤´éƒ¨é˜…è¯»æ¯ä¸€è¡Œè¯—å¥
    </div>
    
    <div style="text-align: center;">
        <div class="title" id="poem-title">åŠ è½½ä¸­...</div>
        
        <div class="poem-container">
            <div class="poem-content" id="poem-content">
                <div class="loading">æ­£åœ¨åŠ è½½è¯—è¯...</div>
            </div>
        </div>
        
        <button id="next-poem">ä¸‹ä¸€é¦–</button>
    </div>

    <script>
        // è·å–è¯—è¯çš„å‡½æ•°
        function loadPoem() {
            document.getElementById('poem-title').textContent = 'åŠ è½½ä¸­...';
            document.getElementById('poem-content').innerHTML = '<div class="loading">æ­£åœ¨åŠ è½½è¯—è¯...</div>';
            
            fetch('https://v1.jinrishici.com/all.json')
                .then(response => response.json())
                .then(data => {
                    const title = data.origin;
                    const content = data.content;
                    
                    // æ›´æ–°æ ‡é¢˜
                    document.getElementById('poem-title').textContent = title;
                    
                    // åˆ†å‰²è¯—å¥
                    const lines = content.split(/[ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼š]/);
                    const filteredLines = lines.filter(line => line.trim().length > 0);
                    
                    // ç”ŸæˆHTML
                    let html = '';
                    filteredLines.slice(0, 4).forEach((line, index) => {
                        const direction = index % 2 === 0 ? 'line-down' : 'line-up';
                        html += `<div class="poem-line ${direction}">${line.trim()}</div>`;
                    });
                    
                    // æ›´æ–°å†…å®¹
                    document.getElementById('poem-content').innerHTML = html;
                })
                .catch(error => {
                    console.error('è·å–è¯—è¯å¤±è´¥:', error);
                    // ä½¿ç”¨å¤‡ç”¨è¯—è¯
                    document.getElementById('poem-title').textContent = 'é™å¤œæ€';
                    document.getElementById('poem-content').innerHTML = `
                        <div class="poem-line line-down">åºŠå‰æ˜æœˆå…‰</div>
                        <div class="poem-line line-up">ç–‘æ˜¯åœ°ä¸Šéœœ</div>
                        <div class="poem-line line-down">ä¸¾å¤´æœ›æ˜æœˆ</div>
                        <div class="poem-line line-up">ä½å¤´æ€æ•…ä¹¡</div>
                    `;
                });
        }
        
        // é¡µé¢åŠ è½½æ—¶è·å–ç¬¬ä¸€é¦–è¯—
        loadPoem();
        
        // ç»‘å®šæŒ‰é’®äº‹ä»¶
        document.getElementById('next-poem').addEventListener('click', loadPoem);
    </script>
</body>
</html>